<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>lightV</title>
    <link rel="stylesheet" href="https://rsms.me/raster/raster2.css">
    <link rel="stylesheet" href="src/styles.css">
</head>

<body>
    <r-grid columns="6" columns-s="1">
        <r-cell span="1-4" span-s="row">
            <div>
                <div class="canvas-stage">
                    <canvas id="background-canvas" width="800" height="400"></canvas>
                    <canvas id="webgl-canvas" width="800" height="400"></canvas>
                    <canvas id="fabric-canvas" width="800" height="400"></canvas>
                </div>

                <div>
                    <div>
                        <h3>Add Region</h3>
                        <button id="add-area">
                            <span>‚¨ú</span>
                            Add Area
                        </button>
                        <button id="add-strip">
                            <span>‚ñ¨</span>
                            Add Strip
                        </button>
                        <button id="add-grid">
                            <span>‚äû</span>
                            Add Grid
                        </button>
                    </div>

                    <div>
                        <h3>Configuration</h3>
                        <div>
                            <label for="strip-count">Strip Cells:</label>
                            <input type="number" id="strip-count" min="2" max="20" value="3">
                        </div>
                        <div>
                            <label for="grid-rows">Grid Rows:</label>
                            <input type="number" id="grid-rows" min="2" max="10" value="2">
                        </div>
                        <div>
                            <label for="grid-cols">Grid Columns:</label>
                            <input type="number" id="grid-cols" min="2" max="10" value="3">
                        </div>
                        <div>
                            <label for="samples-per-edge">Samples/edge:</label>
                            <input type="number" id="samples-per-edge" min="1" max="64" value="20">
                        </div>
                    </div>

                    <div>
                        <h3>Actions</h3>
                        <button id="clear-regions">
                            <span>üóë</span>
                            Clear All
                        </button>
                        <button id="toggle-bg">
                            <span>üé®</span>
                            Toggle Background Mode
                        </button>
                        <button id="log-debug">
                            <span>üêû</span>
                            Log Debug Info
                        </button>
                    </div>
                </div>
            </div>
        </r-cell>

        <r-cell span="5-6" span-s="row">
            <div>
                <div>
                    <h3>Regions</h3>
                    <div id="results-table-container">
                        <table id="results-table">
                            <thead>
                                <tr>
                                    <th>Region</th>
                                    <th>Type</th>
                                    <th>Config</th>
                                    <th>Color</th>
                                    <th>RGB</th>
                                    <th>Hex</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="results-body">
                            </tbody>
                        </table>
                        <div id="empty-state">
                            <p>No regions defined. Add a region to begin color analysis.</p>
                        </div>
                    </div>
                </div>
            </div>
        </r-cell>
    </r-grid>

    <!-- Edit Modal -->
    <dialog id="edit-modal">
        <div>
            <div>
                <h3 id="modal-title">Edit Region</h3>
                <button id="modal-close" aria-label="Close">&times;</button>
            </div>
            <div>
                <div id="modal-controls"></div>
            </div>
            <div>
                <button id="modal-cancel">Cancel</button>
                <button id="modal-save">Save Changes</button>
            </div>
        </div>
    </dialog>

    <script type="module" src="src/main.js"></script>
</body>

</html>